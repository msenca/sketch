<html>
    <head>

    </head> 

    <body>
        <button onclick="genNewSketch()" type="button">Click Me!</button>
        <div class = 'grid-container' id = 'container'></div>
    </body>


      <script>


        function divCreator(numberOfSquares){
           for(i=0;i < numberOfSquares ;i++){
                var newDiv = document.createElement('div');
                newDiv.classList.add("grid-item"); 
              
                var containerDiv =  document.getElementById('container')
                containerDiv.appendChild(newDiv);
            }
        }
      

    function genNewSketch(){
            var node = document.getElementById('container');
node.innerHTML = "";
            var nbs  = prompt("Number of squares", "Enter number of squares"); 
            divCreator(nbs);
            var sketchSize = 400;
            var nrRows = Math.round(Math.sqrt(nbs))
            var squareSize = Math.round(sketchSize/nrRows) 
             
            var sqr= Math.floor(nbs/4);
           
            

            var style = document.createElement('style');
            style.innerHTML = `
                .grid-container {
                  display: grid;
                  grid-template-columns: repeat(${nrRows}, ${squareSize}px);
                  grid-template-rows: repeat(${nrRows}, ${squareSize}px);

                    }
                .grid-item {
                  background-color: rgba(255, 255, 255, 0.8);
                  border: 1px solid rgba(0, 0, 0, 0.8);
                  
                  background-color: #2196F3;
                    }
                    `
               
            document.head.appendChild(style);
        
            var listOfDiv = document.getElementsByClassName("grid-item");
            
            addListen(listOfDiv);

            function addListen(element){
                for (const divEl of element){
                    divEl.addEventListener("mouseover"
                            , function() {
                                divEl.style.backgroundColor = "black"});
                }

            }
    }
     



        
    </script>
    




</html>
